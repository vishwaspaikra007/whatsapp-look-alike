{"version":3,"sources":["components/MsgStatus.module.css","components/config.js","components/socket.io-clientConfig.js","components/SocketConnections.js","components/BackgroundClickAnimation.js","components/header.js","components/Calls.js","components/Status.js","webpack:///./src/assets/person.svg?c1bb","components/ProfilePic.js","components/formatTime.js","components/MsgStatus.js","components/ChatContainer.js","components/Chats.js","components/Body.js","components/MenuContainer.js","components/MsgBox.js","components/Room.js","assets/createChat.svg","components/Block.js","components/DirectAccess.js","assets/addGroup.svg","components/Contacts.js","components/AvailableChats.js","components/WorkerEnabler.js","components/WorkerCountUnSeenMSG.js","components/WelcomePage.js","components/EnterEmail.js","components/EnterNameAndDp.js","App.js","serviceWorker.js","index.js","assets/person.svg","components/SocketConnections.module.css"],"names":["module","exports","config","production","server","socketAddess","socket","socketIoClient","SocketConnections","props","useEffect","emit","email","on","data","console","log","newRoomsMessages","JSON","parse","stringify","roomsMessagesRef","current","roomId","list","push","msgData","setRoomsMessages","modifiedNewMsgCount","newMSGCountRef","setNewMSGCount","senderId","type","timestamp","Date","now","contact","_id","setContacts","contactsRef","concat","lastMessageData","roomsMessages","React","createElement","className","styles","socketMSG","BackgroundClickAnimation","initialValue","transition","transform","opacity","finalValue","_useState","useState","_useState2","_slicedToArray","currentStyle","setCurrentStyle","obj1","obj2","ans","key","isObjectSame","setTimeout","clicked","setClicked","style","Header","allowClick","setAllowClick","_useState3","_useState4","clicked1","setClicked1","_useState5","_useState6","clicked2","setClicked2","_useState7","_useState8","clicked3","setClicked3","headerRef","useRef","spanStyle","marginLeft","headerStyle","y","setHeaderRefInApp","accessJWTTokken","axios","defaults","withCredentials","headers","common","ref","onClick","openMenu","scrollTo","bool","Calls","height","background","scrollSnapAlign","scrollSnapStop","paddingTop","Status","_path","_path2","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","title","viewBox","width","fill","d","ForwardRef","forwardRef","ProfilePic","Person","formatTime","daysPassed","getTime","date","getDate","month","getMonth","year","getFullYear","slice","hrs","getHours","amOrPm","min","getMinutes","MsgStatus","Fragment","msgTimestamp","seen","doubleBlueTick","received","doubleTick","sent","singleTick","pending","ChatContainer","undefined","setDate","Router","Link","to","name","replace","RegExp","setselectedRoomRecipientData","recipientId","setSelectedRoom_id","newMSGCount","join","userData","paddingLeft","lastMessage","boolean","Chats","contacts","chatsRef","setchatsRef","sort","map","obj","index","msg","selectedRoomRecipientData","selectedRoom_id","Body","bodyRef","shareRef","setchatsRefForBody","scrolled","MenuContainer","menuClass","setMenuClass","MsgBox","messageOwnerChanged","ReactHtmlParser","Room","lastMSGFrom","x","setX","createX","setCreateX","inputHeight","setInputHeight","offSetForMSGHeight","setOffSetForMSGHeight","inputRef","MesssagesRef","contentEditableRef","msgValueRef","lastMSGIntoView","scrollHeight","senderEmail","receiverId","gridTemplateRows","window","history","back","ContentEditable","innerRef","html","onChange","e","value","clientHeight","onFocus","senderName","receiverEmail","focus","sendMSG","Block","zIndex","blockStyle","DirectAccess","CreateChat","setOpenAvailableChats","Contacts","openChatRoom","countUnseenMSG","_createClass","WebWorkerEnabler","worker","_classCallCheck","Worker","code","toString","substring","lastIndexOf","blob","Blob","URL","createObjectURL","_this","onmessage","modifiedRoomsMessages","counter","roomOpenedTimestamp","postMessage","AvailableChats","setEmail","createRoom","setCreateRoom","createRoomAddress","getContactsAddress","saveContact","post","then","result","reAuthorizationCheckAndConfig","roomCreated","toUpperCase","alert","prompt","openAvailableChats","_result$data","ob1","ob2","modifiedContacts","setUserData","removeListener","AddGroup","id","WelcomePage","setAgreed","EnterEmail","showOTPBox","setShowOTPBox","showPWDBox","setShowPWDBox","disabled","setDisabled","_useState9","_useState10","otp","setOtp","_useState11","_useState12","PWD","setPWD","_useState13","_useState14","PWDConfirm","setPWDConfirm","emailInputRef","otpInputRef","PWDRef","PWDConfirmRef","placeholder","registered","requestMailAddress","verifyOTPAddress","loginAddress","verified","logedIn","setAccessJWTTokken","signedJWT","catch","err","setRegistered","OTPsent","requestOTP","EnterNameAndDp","setName","registrationAddress","saveUserMetaDataAddress","enterNameRef","saveUserMetaDataFunc","saved","src","require","alt","App","setBodyRef","scrollX","setScrollX","setMarginLeft","showMenu","setMenu","chatsRefForBody","marginTop","setMarginTop","_useState15","_useState16","setHeaderRef","_useState17","_useState18","agreed","_useState19","_useState20","_useState21","_useState22","_useState23","_useState24","_useState25","_useState26","_useState27","_useState28","_useState29","_useState30","_useState31","_useState32","_useState33","_useState34","_useState35","_useState36","_useState37","_useState38","_useState39","_useState40","openAvailableChatsRef","selectedRoomRecipientDataRef","createBrowserHistory","bodyDRef","isURLSet","scrollAnime","scrollSnapType","clearInterval","start","scrollLeft","distance","clientWidth","pix","check","setInterval","Math","abs","round","document","documentElement","pathname","location","isRootPath","match","goBack","addEventListener","scrollWidth","removeEventListener","lastScrolledTopValue","scrollTimer","clearTimeout","scrollTop","isReloaded","performance","info","navigation","checkURLAndSetAppState","a","authorizeAddress","get","authorize","pwd","val","rooms","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","error","ReactDOM","render","StrictMode","getElementById","process","href","origin","fetch","response","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.e38d3e29.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"doubleBlueTick\":\"MsgStatus_doubleBlueTick__3A1lY\",\"doubleTick\":\"MsgStatus_doubleTick__kK2bX\",\"singleTick\":\"MsgStatus_singleTick__3yxxg\",\"pending\":\"MsgStatus_pending__2y4Pj\"};","const config = {\r\n    production: true,\r\n    server: 'https://whatsapplookalike.onrender.com'\r\n}\r\n\r\nexport default config","import socketIoClient from 'socket.io-client'\r\nimport config from './config'\r\n\r\nconst socketAddess = config.production ? config.server : 'http://localhost:3000'\r\nconst socket = socketIoClient(socketAddess)\r\n\r\nexport default socket","import React, {useEffect} from 'react'\r\nimport socket from './socket.io-clientConfig'\r\nimport styles from './SocketConnections.module.css'\r\n\r\nexport default function SocketConnections(props) {\r\n\r\n  const connectSocket = () => {\r\n    socket.emit('joinRoom', props.email)\r\n\r\n    socket.on('msgFromServer', data => {\r\n      console.log(data)\r\n      let newRoomsMessages = JSON.parse(JSON.stringify(props.roomsMessagesRef.current))\r\n      newRoomsMessages[data.roomId].list.push(data.msgData)\r\n      props.setRoomsMessages(newRoomsMessages)\r\n      // alert('received')\r\n      const modifiedNewMsgCount = JSON.parse(JSON.stringify(props.newMSGCountRef.current))\r\n      console.log(\"modifiedNewMsgCount\", modifiedNewMsgCount)\r\n      modifiedNewMsgCount[data.roomId]++ \r\n\r\n      props.setNewMSGCount(modifiedNewMsgCount)\r\n      \r\n      socket.emit('msgStatusToServer',{roomId: data.roomId, senderId: data.msgData.senderId, type: 'received', timestamp: Date.now()})\r\n\r\n    })\r\n\r\n    socket.on('newChat', data => {\r\n      console.log(data)\r\n      socket.emit('joinRoom', data.contact._id)\r\n\r\n      props.setContacts(props.contactsRef.current.concat(data.contact))\r\n\r\n      let newRoomsMessages = JSON.parse(JSON.stringify(props.roomsMessagesRef.current))\r\n      newRoomsMessages[data.contact._id] = {}\r\n      newRoomsMessages[data.contact._id].list = [data.contact.lastMessageData]\r\n      props.setRoomsMessages(newRoomsMessages)\r\n\r\n    })\r\n\r\n    socket.on('msgStatus', data => {\r\n      // alert('new msg status',data)\r\n      const roomsMessages = JSON.parse(JSON.stringify(props.roomsMessagesRef.current))\r\n      if(roomsMessages[data.roomId]) {\r\n        roomsMessages[data.roomId][data.type] = data.timestamp \r\n        props.setRoomsMessages(roomsMessages)\r\n      }\r\n    })\r\n\r\n    console.log(\"socket connection established\")\r\n\r\n  }\r\n\r\n  useEffect(() => {\r\n    connectSocket()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n      if(props._id)\r\n        socket.emit('joinRoom', props._id)\r\n  }, [props._id])\r\n  return (\r\n    <div className={styles.socketMSG}>\r\n      Socket Connected..\r\n    </div>\r\n  )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport './BackgroundClickAnimation.css'\r\n\r\nexport default function BackgroundClickAnimation(props) {\r\n\r\n    const initialValue = {\r\n        transition: '0s',\r\n        transform: 'scale(1)',\r\n        opacity: 1\r\n    }\r\n    const finalValue = {\r\n        transform: 'scale(10)',\r\n        opacity: 0,\r\n        transition: '1s'\r\n    }\r\n\r\n    const [currentStyle, setCurrentStyle] = useState(finalValue)\r\n\r\n    const isObjectSame = (obj1, obj2) => {\r\n        let ans = true\r\n        for(let key in obj1) {\r\n            ans &= (obj1[key] === obj2[key])\r\n        }\r\n        return ans\r\n    }\r\n    useEffect(() => {\r\n        // console.log(currentStyle)\r\n        if(isObjectSame(currentStyle, initialValue))\r\n            setTimeout(() => {\r\n                setCurrentStyle(finalValue)\r\n            }, 0); \r\n    }, [currentStyle])\r\n\r\n    useEffect(() => {\r\n        if(props.clicked) {\r\n            setCurrentStyle(initialValue)\r\n            props.setClicked(false)\r\n        }\r\n    }, [props.clicked])\r\n    return (\r\n        <div className=\"circularClickAnimationContainer\">\r\n            <div className={'circularBody'} style={currentStyle}></div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect, useRef} from 'react'\r\nimport './header.css'\r\nimport axios from 'axios'\r\nimport BackgroundClickAnimation from './BackgroundClickAnimation'\r\n\r\nexport default function Header(props) {\r\n    const [allowClick, setAllowClick] = useState(false)\r\n    const [clicked1, setClicked1] = useState(false)\r\n    const [clicked2, setClicked2] = useState(false)\r\n    const [clicked3, setClicked3] = useState(false)\r\n    const headerRef = useRef()\r\n    let spanStyle = {\r\n        marginLeft: props.marginLeft + \"%\",\r\n    }\r\n    let headerStyle = {\r\n        transform: `translate(0px,${props.y}px)`\r\n    }\r\n    const openMenu = () => {\r\n        if(allowClick)\r\n            props.openMenu(true)\r\n    }\r\n\r\n    useEffect(()=> {\r\n        setAllowClick(true)\r\n        props.setHeaderRefInApp(headerRef)\r\n    },[])\r\n\r\n    useEffect(() => {\r\n    if(props.accessJWTTokken)\r\n    {\r\n        axios.defaults.withCredentials = true\r\n        axios.defaults.headers.common['Authorization'] = \"bearer \" + props.accessJWTTokken\r\n    }\r\n    }, [props.accessJWTTokken])\r\n     \r\n    return (\r\n        <div>\r\n            <div className=\"header\" style={headerStyle} ref={headerRef}>\r\n                <div className=\"menu\">\r\n                    <div className=\"brandName\">WhatsApp</div>\r\n                    <div><i className=\"icon-search\"></i></div>\r\n                    <div onClick={openMenu}><i className=\"vertical-menu\"></i></div>\r\n                </div>\r\n                <div className=\"options\">\r\n                    <div><i className=\"icon-camera\"></i></div>\r\n                    <div onClick={() => {props.scrollTo(0); setClicked1(true)}}>CHATS\r\n                        <BackgroundClickAnimation clicked={clicked1} setClicked={bool => setClicked1(bool)}/>\r\n                    </div>\r\n                    <div onClick={() => {props.scrollTo(1); setClicked2(true)}}>STATUS\r\n                        <BackgroundClickAnimation  clicked={clicked2} setClicked={bool => setClicked2(bool)}/>\r\n                    </div>\r\n                    <div onClick={() => {props.scrollTo(2); setClicked3(true)}}>CALLS\r\n                        <BackgroundClickAnimation  clicked={clicked3} setClicked={bool => setClicked3(bool)}/>\r\n                    </div>\r\n                </div>\r\n                <span className=\"indicator\" style={spanStyle}></span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Calls() {\r\n    const callStyle = {\r\n        height: \"calc(100vh - 50px)\",\r\n        background: \"pink\",\r\n        scrollSnapAlign: \"start\",\r\n        scrollSnapStop: \"always\",\r\n        paddingTop: \"60px\"\r\n\r\n    }\r\n    return (\r\n        <div style={callStyle}>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Status() {\r\n    const statusStyle = {\r\n        height: \"calc(100vh - 50px)\",\r\n        background: \"orange\",\r\n        scrollSnapAlign: \"start\",\r\n        scrollSnapStop: \"always\",\r\n        paddingTop: \"60px\"\r\n    }\r\n    return (\r\n        <div style={statusStyle}>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","var _path, _path2;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgPerson = function SvgPerson(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 212 212\",\n    width: 212,\n    height: 212,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#DFE5E7\",\n    className: \"background\",\n    d: \"M106.251.5C164.653.5 212 47.846 212 106.25S164.653 212 106.25 212C47.846 212 .5 164.654.5 106.25S47.846.5 106.251.5z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#FFF\",\n    className: \"primary\",\n    d: \"M173.561 171.615a62.767 62.767 0 0 0-2.065-2.955 67.7 67.7 0 0 0-2.608-3.299 70.112 70.112 0 0 0-3.184-3.527 71.097 71.097 0 0 0-5.924-5.47 72.458 72.458 0 0 0-10.204-7.026 75.2 75.2 0 0 0-5.98-3.055c-.062-.028-.118-.059-.18-.087-9.792-4.44-22.106-7.529-37.416-7.529s-27.624 3.089-37.416 7.529c-.338.153-.653.318-.985.474a75.37 75.37 0 0 0-6.229 3.298 72.589 72.589 0 0 0-9.15 6.395 71.243 71.243 0 0 0-5.924 5.47 70.064 70.064 0 0 0-3.184 3.527 67.142 67.142 0 0 0-2.609 3.299 63.292 63.292 0 0 0-2.065 2.955 56.33 56.33 0 0 0-1.447 2.324c-.033.056-.073.119-.104.174a47.92 47.92 0 0 0-1.07 1.926c-.559 1.068-.818 1.678-.818 1.678v.398c18.285 17.927 43.322 28.985 70.945 28.985 27.678 0 52.761-11.103 71.055-29.095v-.289s-.619-1.45-1.992-3.778a58.346 58.346 0 0 0-1.446-2.322zM106.002 125.5c2.645 0 5.212-.253 7.68-.737a38.272 38.272 0 0 0 3.624-.896 37.124 37.124 0 0 0 5.12-1.958 36.307 36.307 0 0 0 6.15-3.67 35.923 35.923 0 0 0 9.489-10.48 36.558 36.558 0 0 0 2.422-4.84 37.051 37.051 0 0 0 1.716-5.25c.299-1.208.542-2.443.725-3.701.275-1.887.417-3.827.417-5.811s-.142-3.925-.417-5.811a38.734 38.734 0 0 0-1.215-5.494 36.68 36.68 0 0 0-3.648-8.298 35.923 35.923 0 0 0-9.489-10.48 36.347 36.347 0 0 0-6.15-3.67 37.124 37.124 0 0 0-5.12-1.958 37.67 37.67 0 0 0-3.624-.896 39.875 39.875 0 0 0-7.68-.737c-21.162 0-37.345 16.183-37.345 37.345 0 21.159 16.183 37.342 37.345 37.342z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPerson, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/person.a8f61b5a.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport './ProfilePic.css'\r\nimport {ReactComponent as Person} from '../assets/person.svg'\r\nexport default function ProfilePic() {\r\n    const logo = \"svg\"\r\n\r\n    return (\r\n        <div className={\"bgStyle\"}>\r\n            {\r\n                logo === \"svg\" ?\r\n                <Person /> :\r\n                <img className=\"defaultImg\" src={require('../assets/person.svg')} alt=\"profile pic\"/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","const formatTime = (timestamp) => {\r\n    const timeElapsed = Date.now() - new Date(timestamp).getTime()\r\n    const daysPassed = (timeElapsed/(100*60*60*24))\r\n    if(daysPassed >= 2) {\r\n        let date = new Date(timestamp).getDate() \r\n        date = date / 10 >= 1 ? date : '0' + date  \r\n        let month = new Date(timestamp).getMonth()\r\n        month = month / 10 >= 1 ? month : '0' + month  \r\n        const year = JSON.stringify(new Date(timestamp).getFullYear()).slice(0,2)\r\n        return (`${date}/${month}/${year}`)\r\n    } else if(daysPassed >= 1) {\r\n        return ('Yesterday')\r\n    } else {\r\n        let hrs = new Date(timestamp).getHours()\r\n        const amOrPm = hrs/12 < 1 ? 'am' : 'pm'\r\n        hrs = hrs%13 ? hrs%13 : 1 \r\n        hrs = hrs / 10 >= 1 ? hrs : '0' + hrs\r\n        let min = new Date(timestamp).getMinutes()\r\n        min = min / 10 >= 1 ? min : '0' + min\r\n        return (hrs + ':' + min + ' ' + amOrPm)\r\n    }\r\n}\r\n\r\nexport default formatTime","import React from 'react'\r\nimport style from './MsgStatus.module.css'\r\n\r\nexport default function MsgStatus(props) {\r\n    return (\r\n        <React.Fragment>\r\n            {\r\n                new Date(props.msgTimestamp).getTime() <= new Date(props.seen).getTime() ? \r\n                <div className={style.doubleBlueTick}/> :\r\n                new Date(props.msgTimestamp).getTime() <= new Date(props.received).getTime() ?\r\n                    <div className={style.doubleTick}/> :\r\n                    new Date(props.msgTimestamp).getTime() <= new Date(props.sent).getTime() ?\r\n                        <div className={style.singleTick}/> :\r\n                        <div className={style.pending}/>\r\n            }\r\n        </React.Fragment>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom'\r\nimport \"./ChatContainer.css\"\r\nimport ProfilePic from './ProfilePic'\r\nimport formatTime from './formatTime'\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser'\r\nimport BackgroundClickAnimation from './BackgroundClickAnimation'\r\nimport MsgStatus from './MsgStatus'\r\n\r\nexport default function ChatContainer(props) {\r\n    const [tag, setTag] = useState(undefined)\r\n    const [date, setDate] = useState(undefined)\r\n    const [clicked, setClicked] = useState(false)\r\n    useEffect(() => {\r\n        if(props.date) {\r\n            setDate(formatTime(props.date))\r\n    }})\r\n    return (\r\n        <div className=\"ChatContainer\">\r\n            <ProfilePic />\r\n            <Router> \r\n                <Link to={\"/whatsapp-look-alike/\" + (props.name).replace(new RegExp(' ', 'g'), \"-\")}  onClick={() => {props.setselectedRoomRecipientData({_id: props.recipientId, name: props.name, email: props.email}); props.setSelectedRoom_id(props.roomId);setClicked(true)}}>\r\n                    <div>\r\n                        <div className=\"name\">{props.name}</div>\r\n                        <div className={[\"date\", props.newMSGCount ? \"newMSGColor\" : null].join(\" \") }>{date}</div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"lastMessage\">\r\n                            {\r\n                                props.userData._id == props.senderId ? <MsgStatus seen={props.seen} received={props.received} sent={props.sent} msgTimestamp={props.date} newMSGCount={props.newMSGCount}/> : null\r\n                            }\r\n                            <span style={{paddingLeft: \"5px\"}}>{props.lastMessage.replace(/<\\/*div>/g,\" \")}</span>\r\n                        </div>\r\n                        <div className=\"tag\">\r\n                            {props.newMSGCount ? <div className={'newMSG'}>{props.newMSGCount}</div> : null}\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </Router>\r\n            <BackgroundClickAnimation clicked={clicked} setClicked={boolean => setClicked(boolean)}/>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect, useRef} from 'react'\r\nimport ChatContainer from './ChatContainer'\r\nimport './Chats.css'\r\nexport default function Chats(props) {\r\n\r\n    const [contacts, setContacts] = useState([])\r\n    const chatsRef  = useRef()\r\n\r\n    useEffect(()=> {\r\n       props.setchatsRef(chatsRef)\r\n       console.log(\"from chats\", props.roomsMessages)\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if(props.contacts.length && Object.keys(props.contacts[0].lastMessageData).length)\r\n            setContacts(props.contacts.sort((obj1, obj2) => {return new Date(obj1.lastMessageData.timestamp).getTime() < new Date(obj2.lastMessageData.timestamp).getTime() ? 1 : -1}))\r\n    }, [props.contacts])\r\n     \r\n    return (\r\n        <div ref={chatsRef} className={\"chatsContainer\"}>\r\n            {\r\n                contacts.map((obj, index) => {\r\n                    return (<ChatContainer key={index} roomId={obj._id} recipientId={obj.recipientId} name={obj.name} email={obj.email} date={obj.lastMessageData.timestamp} lastMessage={obj.lastMessageData.msg} setselectedRoomRecipientData={selectedRoomRecipientData => props.setselectedRoomRecipientData(selectedRoomRecipientData)}  setSelectedRoom_id={selectedRoom_id => props.setSelectedRoom_id(selectedRoom_id)} seen={obj.seen} received={obj.received} sent={obj.sent} userData={props.userData} senderId={obj.lastMessageData.senderId} newMSGCount={obj.newMSGCount}/>)\r\n                })\r\n            }\r\n            <div>Tap and hold on chat for more option</div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useRef, useEffect, useState} from 'react'\r\nimport Calls from './Calls'\r\nimport Status from './Status'\r\nimport Chats from './Chats'\r\nimport './Body.css'\r\n\r\nexport default function Body(props) {\r\n    const bodyRef = useRef()\r\n    const [chatsRef, setchatsRef] = useState()\r\n\r\n    useEffect(() => {\r\n        props.shareRef(bodyRef)\r\n        if(chatsRef)\r\n            props.setchatsRefForBody(chatsRef)\r\n    }, [props])\r\n\r\n    return (\r\n        <div className={\"body\"} ref={bodyRef}>\r\n            <Chats setchatsRef={chatsRef => setchatsRef(chatsRef)} scrolled={props.scrolled} setselectedRoomRecipientData={selectedRoomRecipientData => props.setselectedRoomRecipientData(selectedRoomRecipientData)}  setSelectedRoom_id={selectedRoom_id => props.setSelectedRoom_id(selectedRoom_id)} contacts={props.contacts} userData={props.userData}/>\r\n            <Status />\r\n            <Calls />\r\n        </div>\r\n    )\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport './menu.css'\r\nexport default function MenuContainer(props) {\r\n    const [allowClick, setAllowClick] = useState(false)\r\n    const [menuClass, setMenuClass] = useState(\"\")\r\n    const closeMenu = ()=> {\r\n        if(allowClick)\r\n        {\r\n            setMenuClass(\"menuCardFull menuCardFullHide\")\r\n            setTimeout(() => {\r\n                setMenuClass(\"\") \r\n                setAllowClick(true)\r\n                props.openMenu(false)\r\n            }, 295);\r\n        }\r\n        setAllowClick(false)\r\n    }\r\n    \r\n    useEffect(() => {\r\n        setMenuClass(\"\")\r\n        setTimeout(() => {\r\n            setMenuClass(props.menuClass)\r\n        }, 10);\r\n    },[props.menuClass])\r\n\r\n    useEffect(()=> {\r\n        setAllowClick(true)\r\n        setMenuClass(\"\") \r\n    },[])\r\n\r\n    return (\r\n        <div className=\"menuContainer\" onClick={() => closeMenu()}>\r\n            <div className={\"menuCard \" + menuClass}>\r\n                <div className=\"MenuList\">\r\n                    <span >New group</span>\r\n                    <span>New broadcast</span>\r\n                    <span>WhatsApp web</span>\r\n                    <span>Starred messages</span>\r\n                    <span>Settings</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport formatTime from './formatTime'\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser'\r\nimport MsgStatus from './MsgStatus'\r\n\r\nexport default function MsgBox(props) {\r\n\r\n    // const [msgStatus, setMsgStatus] = useState({})\r\n\r\n    // useEffect(() => {\r\n    //     if(props.selectedRoom_id) {\r\n    //         console.log(\"room msgStatus\", props.msgStatusRef.current)\r\n    //         const tempMsgSatus = {}\r\n    //         tempMsgSatus.seen = new Date(props.msgStatusRef.current[props.selectedRoom_id].seen).getTime()\r\n    //         tempMsgSatus.received = new Date(props.msgStatusRef.current[props.selectedRoom_id].received).getTime()\r\n    //         tempMsgSatus.sent = new Date(props.msgStatusRef.current[props.selectedRoom_id].sent).getTime()\r\n\r\n    //         setMsgStatus(tempMsgSatus)\r\n    //     }\r\n    // }, [props.msgStatusRef, props.selectedRoom_id])\r\n    \r\n    return (\r\n        <div className={['msgBox ', props.obj.senderId === props.userData._id ? 'sent' : props.obj.senderId === 'bot1' ? 'bot1' : 'received', props.messageOwnerChanged ? 'marginTop' : null].join(' ')}>\r\n            <div>{ReactHtmlParser(props.obj.msg)}</div>\r\n            <div>\r\n                <div>{formatTime(props.obj.timestamp)}</div>\r\n                {\r\n                    props.obj.senderId == props.userData._id ?\r\n                        <MsgStatus msgTimestamp={props.obj.timestamp} seen={props.seen} received={props.received} sent={props.sent}/>\r\n                        // new Date(props.obj.timestamp).getTime() <= new Date(props.seen).getTime() ? \r\n                        //     <div className={'doubleBlueTick msgStatus'}/> :\r\n                        //     new Date(props.obj.timestamp).getTime() <= new Date(props.received).getTime() ?\r\n                        //         <div className={'doubleTick msgStatus'}/> :\r\n                        //         new Date(props.obj.timestamp).getTime() <= new Date(props.sent).getTime() ?\r\n                        //             <div className={'singleTick msgStatus'}/> :\r\n                        //             <div className={'pending msgStatus'}/>\r\n                    : null\r\n                }\r\n            </div>\r\n        </div>     \r\n    )\r\n}\r\n","import React, {useEffect, useState, useRef} from 'react'\r\nimport './Room.css'\r\nimport ProfilePic from './ProfilePic'\r\nimport socket from './socket.io-clientConfig'\r\nimport ContentEditable from 'react-contenteditable'\r\nimport formatTime from './formatTime'\r\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser'\r\nimport MsgBox from './MsgBox'\r\n\r\nexport default function Room(props) {\r\n    const [x, setX] = useState(100)\r\n    const [createX, setCreateX] = useState(100)\r\n    const [inputHeight, setInputHeight] = useState(\"60px\")\r\n    const [offSetForMSGHeight, setOffSetForMSGHeight] = useState(115)\r\n    // const [msgStatus, setMsgStatus] = useState({})\r\n\r\n    const inputRef = useRef()\r\n    const MesssagesRef = useRef()\r\n    const contentEditableRef = useRef()\r\n    const msgValueRef = useRef(\"\")\r\n    let lastMSGFrom\r\n    let messageOwnerChanged = false\r\n\r\n    useEffect(() => {\r\n        console.log('props.selectedRoom_id', props.selectedRoom_id)\r\n        if(props.selectedRoomRecipientData._id)\r\n        {    \r\n            setX(0)\r\n            setCreateX(0)\r\n        }\r\n        else\r\n        {    \r\n            setX(100)\r\n            setCreateX(100)\r\n        }\r\n    }, [props.selectedRoomRecipientData])\r\n\r\n    const goBack =()=> {\r\n        props.setSelectedRoom_id(undefined)\r\n        props.setselectedRoomRecipientData({})\r\n        window.history.back()\r\n    }\r\n\r\n    const lastMSGIntoView = () => {\r\n        if(MesssagesRef.current)\r\n            MesssagesRef.current.scrollTo(0, MesssagesRef.current.scrollHeight)\r\n    }\r\n    const sendMSG = ()=> {\r\n        if(props.selectedRoom_id) {\r\n            let msgData = {\r\n                msg: msgValueRef.current,\r\n                senderId: props.userData._id,\r\n                senderName: props.userData.name,\r\n                timestamp: Date.now()\r\n                }\r\n            socket.emit('msgToServer', {\r\n                msgData,\r\n                roomId: props.selectedRoom_id,\r\n                receiverEmail: props.selectedRoomRecipientData.email,\r\n                senderEmail: props.userData.email\r\n            })\r\n            let roomsMessages = JSON.parse(JSON.stringify(props.roomsMessagesRef.current))\r\n            roomsMessages[props.selectedRoom_id].list.push(msgData)\r\n            console.log('roomsMessages', roomsMessages)\r\n            props.setRoomsMessages(roomsMessages)\r\n            msgValueRef.current = \"\"\r\n            setOffSetForMSGHeight(115)\r\n            lastMSGIntoView()\r\n            contentEditableRef.current.focus()\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        lastMSGIntoView()\r\n    }, [props.roomsMessagesRef.current,x,offSetForMSGHeight])\r\n\r\n    const handleChange = e => {\r\n        msgValueRef.current = e.target.value\r\n        console.log(msgValueRef.current, \"inputHeight\", inputHeight)\r\n        setInputHeight(inputRef.current.clientHeight + 15 + \"px\")\r\n        setOffSetForMSGHeight(inputRef.current.clientHeight + 70)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(props.selectedRoom_id && props.selectedRoomRecipientData.email)\r\n        console.log(\"from room\",props.roomsMessagesRef.current[props.selectedRoom_id].list.slice(-1)[0].senderId)\r\n        if(props.selectedRoom_id && props.roomsMessagesRef.current[props.selectedRoom_id].list.slice(-1)[0].senderId != props.userData._id && props.selectedRoomRecipientData.email)\r\n            socket.emit('msgStatusToServer',{roomId: props.selectedRoom_id, senderEmail: props.selectedRoomRecipientData.email, type: 'seen', timestamp: Date.now(), receiverId: props.userData._id})\r\n    }, [props.roomsMessagesRef.current,props.selectedRoom_id,props.selectedRoomRecipientData])\r\n\r\n    return (\r\n        <React.Fragment>\r\n        <div className={\"room\"} style={{transform: `translate(${x}%,0px)`, gridTemplateRows: `55px auto ${inputHeight}`}}>\r\n            <div className=\"background-image\"></div>\r\n            <div className={\"roomHeader\"}>\r\n                <div className={\"back\"} onClick={() => goBack()}><i className=\"return\" /></div>\r\n                <div className=\"picContainer\">\r\n                    <ProfilePic />\r\n                </div>\r\n                <div className={\"name\"}>{props.selectedRoomRecipientData._id ? props.selectedRoomRecipientData.name : null}</div>\r\n                <div className=\"videoCall\" ><i className=\"video-call\" /></div>\r\n                <div className=\"audioCall\" ><i className=\"call\" /></div>\r\n                <div className=\"menu-room\"><i className=\"vertical-menu\" /></div>\r\n            </div>\r\n            <div ref={MesssagesRef} className={\"messages\"} style={{height: `calc(100vh - ${offSetForMSGHeight}px)`}}>\r\n                {\r\n                    props.selectedRoom_id ? props.roomsMessagesRef.current[props.selectedRoom_id].list.map((obj, index) => {\r\n                        messageOwnerChanged = lastMSGFrom === obj.senderId ? false : true\r\n                        lastMSGFrom = obj.senderId\r\n                        return (\r\n                            <MsgBox key={index} userData={props.userData} selectedRoom_id={props.selectedRoom_id} obj={obj} messageOwnerChanged={messageOwnerChanged} seen={props.roomsMessagesRef.current[props.selectedRoom_id].seen}  received={props.roomsMessagesRef.current[props.selectedRoom_id].received}  sent={props.roomsMessagesRef.current[props.selectedRoom_id].sent}/>\r\n                        )\r\n                    }) : null\r\n                }\r\n            </div>\r\n        </div>\r\n        <div ref={inputRef} className={\"create\"} style={{transform: `translate(${createX}%,0px)`}}>\r\n            <div className=\"chatInput\">\r\n                <div className=\"emoji\"><i /></div>\r\n                <ContentEditable innerRef={contentEditableRef} className=\"input\" html={msgValueRef.current} onChange={handleChange} onFocus={() => {setTimeout(() => {\r\n                    lastMSGIntoView()\r\n                }, 1000);}}></ContentEditable>\r\n                <div className=\"attachment\"><i /></div>\r\n                <div className=\"camera\"><i /></div>\r\n            </div>\r\n            {/* <div className=\"microphone\"><i /></div> */}\r\n            <div className=\"send\" onClick={() => sendMSG()}><i /></div>\r\n        </div>\r\n        </React.Fragment>\r\n    )\r\n}\r\n","var _path;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgCreateChat = function SvgCreateChat(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    height: 24,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M19.005 3.175H4.674C3.642 3.175 3 3.789 3 4.821V21.02l3.544-3.514h12.461c1.033 0 2.064-1.06 2.064-2.093V4.821c-.001-1.032-1.032-1.646-2.064-1.646zm-4.989 9.869H7.041V11.1h6.975v1.944zm3-4H7.041V7.1h9.975v1.944z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCreateChat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/createChat.22024c00.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\r\nimport './Block.css'\r\nexport default function Block(props) {\r\n    let style = {\r\n        zIndex: props.blockStyle.zIndex, \r\n        opacity: props.blockStyle.opacity\r\n    }\r\n    return (\r\n        <div style={style} className=\"block\">\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { BrowserRouter as Router, Link } from 'react-router-dom'\r\n\r\nimport {ReactComponent as CreateChat} from '../assets/createChat.svg'\r\nimport './DirectAccess.css'\r\n\r\nexport default function DirectAccess(props) {\r\n    return (\r\n        <Router>\r\n            <Link to=\"/whatsapp-look-alike/select-contact-for-chatting\"  className=\"directAccess\">\r\n                <CreateChat className=\"createChat\" onClick={() => props.setOpenAvailableChats(true)}/>\r\n            </Link>\r\n        </Router>\r\n    )\r\n}\r\n","var _path;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgAddGroup = function SvgAddGroup(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 32 32\",\n    width: 32,\n    height: 32,\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M15.313 15.672c2.401 0 4.237-1.835 4.237-4.235S17.713 7.2 15.313 7.2s-4.235 1.836-4.235 4.237 1.834 4.235 4.235 4.235zm9.349-.64c1.571 0 2.773-1.201 2.773-2.772 0-1.571-1.202-2.773-2.773-2.773s-2.772 1.202-2.772 2.773c0 1.571 1.201 2.772 2.772 2.772zm-1.724 5.841a7.856 7.856 0 0 0-.889-1.107 8.074 8.074 0 0 0-1.825-1.413 9.05 9.05 0 0 0-.675-.346l-.021-.009c-1.107-.502-2.5-.851-4.232-.851-1.732 0-3.124.349-4.232.851l-.112.054a9.247 9.247 0 0 0-.705.374 8.137 8.137 0 0 0-1.705 1.341 7.991 7.991 0 0 0-.656.773 8.584 8.584 0 0 0-.233.334c-.063.095-.116.184-.164.263l-.012.02a4.495 4.495 0 0 0-.213.408v2.276h16.061v-2.276s-.07-.164-.225-.427a4.257 4.257 0 0 0-.162-.265zm1.724-4.357c-1.333 0-2.376.3-3.179.713a9.409 9.409 0 0 1 1.733 1.218c1.402 1.25 1.959 2.503 2.017 2.641l.021.049h4.954v-1.571s-1.294-3.05-5.546-3.05zM9.41 13.78H6.261v-3.152H4.344v3.152H1.2v1.918h3.144v3.145h1.917v-3.145H9.41V13.78z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAddGroup, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/addGroup.ba736b1e.svg\";\nexport { ForwardRef as ReactComponent };","// imported in AvailableChats.js to show all contacts\r\nimport React, {useState} from 'react'\r\nimport BackgroundClickAnimation from './BackgroundClickAnimation'\r\nimport {ReactComponent as Person} from '../assets/person.svg'\r\n\r\nexport default function Contacts(props) {\r\n\r\n    const [clicked, setClicked] = useState(false)\r\n\r\n    return (\r\n        <div className=\"savedContacts\">\r\n            <span><Person className=\"Person\"/></span>\r\n            <div onClick={() => {props.openChatRoom(props.obj._id); setClicked(true)}}>\r\n                <span>{props.obj.name}</span>\r\n                <span>whatever</span>\r\n            </div>\r\n            <BackgroundClickAnimation  clicked={clicked} setClicked={boolean => setClicked(boolean)}/>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport './Room.css'\r\nimport './AvailableChats.css'\r\nimport {ReactComponent as AddGroup} from '../assets/addGroup.svg'\r\nimport socket from './socket.io-clientConfig'\r\nimport Contacts from './Contacts'\r\nimport BackgroundClickAnimation from './BackgroundClickAnimation'\r\nimport config from './config'\r\nimport WorkerEnabler from './WorkerEnabler'\r\nimport WorkerCountUnSeenMSG from './WorkerCountUnSeenMSG'\r\nconst countUnseenMSG = new WorkerEnabler(WorkerCountUnSeenMSG)\r\n\r\nexport default function AvailableChats(props) {\r\n\r\n    const [clicked, setClicked] = useState(false)\r\n    const [email, setEmail] = useState(undefined)\r\n    const [createRoom, setCreateRoom] = useState(false)\r\n    const [contacts, setContacts] = useState([])\r\n    const createRoomAddress = config.production ? config.server + '/createRoom' : 'http://localhost:3000/createRoom'\r\n\r\n    const getContactsAddress = config.production ? config.server + '/getContacts' : 'http://localhost:3000/getContacts'\r\n\r\n    const sortAndSetArrayElement = (contact)=> {\r\n        setContacts(contacts.concat(contact).sort((obj1, obj2) => {return obj1.name.toUpperCase() < obj2.name.toUpperCase() ? 1 : -1}))\r\n    }\r\n\r\n    const saveContact = ()=> {\r\n        if(email)\r\n        {\r\n            let data = {}\r\n            data.email = email\r\n            if(email !== props.email) {\r\n                axios.post(createRoomAddress,data)\r\n                .then(result => {\r\n                    if(props.reAuthorizationCheckAndConfig(result)) {\r\n                        saveContact()\r\n                        return null\r\n                    }\r\n                    if(result.data.roomCreated) {\r\n                        console.log(result)\r\n                        setEmail(undefined)\r\n                        setCreateRoom(false)\r\n                        \r\n                        props.setContacts(props.contacts.concat(result.data.contact))\r\n                        sortAndSetArrayElement(result.data.contact)\r\n\r\n                        let modifiedRoomsMessages =  JSON.parse(JSON.stringify(props.roomsMessages))\r\n                        modifiedRoomsMessages[result.data.contact._id].list = [result.data.contact.lastMessageData]\r\n                        props.setRoomsMessages(modifiedRoomsMessages)\r\n\r\n                        socket.emit('joinRoom', result.data.contact._id)\r\n                        return null\r\n                    }\r\n                    alert(result.data.msg)\r\n                    console.log(result.data.msg)\r\n                })\r\n            } else {\r\n                alert(email + \" is your email\")\r\n                setEmail(undefined)\r\n                setCreateRoom(false)\r\n            }\r\n            \r\n        } else {\r\n            console.log(\"email is not defined\")\r\n            setCreateRoom(false)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        saveContact()\r\n    }, [email])\r\n\r\n    useEffect(() => {\r\n        if(!email && createRoom)\r\n            setEmail(prompt(\"Enter email to save contact\"))\r\n    }, [createRoom])\r\n\r\n    let style = {\r\n        transform: props.openAvailableChats ? `translate(0px,0px)` : `translate(100%,0px)` \r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.post(getContactsAddress).then(result => {\r\n            const {contacts, roomsMessages, userData} = result.data\r\n\r\n            console.log(\"get contacts\", result)\r\n            setContacts(contacts.sort((ob1, ob2) => {return ob1.name.toUpperCase() > ob2.name.toUpperCase() ? 1 : -1}))\r\n\r\n            const modifiedRoomsMessages = {}\r\n\r\n            let modifiedContacts = contacts.map(obj => {\r\n\r\n                modifiedRoomsMessages[obj._id] = {\r\n                    seen: obj.seen,\r\n                    received: obj.received,\r\n                    sent: obj.sent,\r\n                    list: roomsMessages[obj._id]\r\n                }\r\n\r\n                obj['lastMessageData'] = roomsMessages[obj._id][roomsMessages[obj._id].length - 1]\r\n                if(!obj.seen || obj.lastMessageData.timestamp > obj.seen)\r\n                    socket.emit('msgStatusToServer',{roomId: obj._id, senderEmail: obj.email, type: 'received', timestamp: Date.now()})\r\n\r\n                return obj\r\n            })\r\n\r\n            countUnseenMSG.postMessage({modifiedRoomsMessages, userData})\r\n\r\n            console.log('modifiedContacts', modifiedContacts)\r\n            // props.setMsgStatus(objectForMsgStatus)\r\n            props.setContacts(modifiedContacts)\r\n            \r\n            // modifiedRoomsMessages.list = result.data.roomsMessages \r\n            props.setRoomsMessages(modifiedRoomsMessages)\r\n            props.setUserData(result.data.userData)\r\n            contacts.map(obj => {\r\n                socket.emit('joinRoom',obj._id)\r\n            })\r\n        })\r\n    }, [])\r\n\r\n    const closeAvailableChats = ()=> {\r\n        // props.setOpenAvailableChats(false)\r\n        window.history.back()   \r\n    }\r\n\r\n    const openChatRoom = ()=> {\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        countUnseenMSG.onmessage = e => {\r\n            console.log(\"from Worker : \", e.data)\r\n            props.setNewMSGCount(e.data)\r\n        }\r\n        return () => {\r\n            countUnseenMSG.removeListener('message')\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"room AvailableChats\" style={style}>\r\n            <div className=\"menu\">\r\n                <div className={\"s\"} onClick={() => closeAvailableChats()}><i className=\"return\" /></div>\r\n                <div className=\"a\">\r\n                    <span>Select contact</span>\r\n                    <span>{contacts.length} contacts</span>\r\n                </div>\r\n                <div><i className=\"icon-search\"></i></div>\r\n                <div><i className=\"vertical-menu\"></i></div>\r\n            </div>\r\n            <div className=\"contacts\">\r\n                <div className=\"newGroup\">\r\n                    <span><AddGroup className=\"AddGroup\"/></span>\r\n                    <p>New Group</p>\r\n                </div>\r\n                <div className=\"newGroup\" onClick={() => {setClicked(true);setCreateRoom(true)}}>\r\n                    <span><AddGroup className=\"AddGroup\"/></span>\r\n                    <p>New Contact</p>\r\n                    <BackgroundClickAnimation  clicked={clicked} setClicked={boolean => setClicked(boolean)}/>\r\n                </div>\r\n                {\r\n                    contacts.map((obj, index) => {\r\n                        return (\r\n                            <Contacts key={index} obj={obj} openChatRoom={id => openChatRoom(id)}/>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","export default class WebWorkerEnabler{\r\n    constructor(worker) {\r\n        if(window.Worker) {\r\n            console.log(\"Worker is supported in your browser\")\r\n            let code = worker.toString()\r\n            code = code.substring(code.indexOf('{') + 1, code.lastIndexOf('}'))\r\n     \r\n            const blob = new Blob([code], { type: 'application/javascript' })\r\n            return new Worker(URL.createObjectURL(blob))\r\n        } else {\r\n            console.log(\"Worker is not supported in your browser\")\r\n        }\r\n       \r\n    }\r\n}\r\n    ","export default function WorkerCountUnseenMSG() {\r\n    this.onmessage = e => {\r\n        // this is where code our logic\r\n        console.log(\"roomsMessages \", e.data.modifiedRoomsMessages)\r\n        let counter = {}\r\n        for(const key in e.data.modifiedRoomsMessages) {\r\n            counter[key] = 0\r\n            let i = e.data.modifiedRoomsMessages[key].list.length\r\n            while(\r\n                (e.data.modifiedRoomsMessages[key].list[--i].senderId != e.data.userData._id) && \r\n                (new Date(e.data.modifiedRoomsMessages[key].list[i].timestamp).getTime() >= new Date(e.data.modifiedRoomsMessages[key].roomOpenedTimestamp).getTime()))\r\n                counter[key]++\r\n        }\r\n\r\n        this.postMessage(counter) // through this method we send our response\r\n    }\r\n}","import React from 'react'\r\nimport './WelcomePage.css'\r\nimport './Button.css'\r\n\r\nexport default function WelcomePage(props) {\r\n    return (\r\n        <div className=\"WelcomePage\">\r\n            <h1>Welcome to WhatsApp</h1>\r\n            <div>\r\n                <span></span>\r\n            </div>\r\n            <p>Read our <span>Privacy Policy</span>. Tap \"Agree and continue\" to accept the <span>Terms of Service</span>.</p>\r\n            <button onClick={() => props.setAgreed(true)}>AGREE AND CONTINUE</button>\r\n            <footer>\r\n                from\r\n                <span>FACEBOOK</span>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport axios from 'axios'\r\nimport './EnterEmail.css'\r\nimport './Button.css'\r\nimport config from './config'\r\n\r\nexport default function EnterEmail(props) {\r\n    const [email, setEmail] = useState(null)\r\n    const [showOTPBox, setShowOTPBox] = useState(false)\r\n    const [showPWDBox, setShowPWDBox] = useState(false)\r\n    const [disabled, setDisabled] = useState(false)\r\n    const [otp, setOtp] = useState(undefined)\r\n    const [PWD, setPWD] = useState(undefined)\r\n    const [PWDConfirm, setPWDConfirm] = useState(undefined)\r\n    const emailInputRef = useRef()\r\n    const otpInputRef = useRef()\r\n    const PWDRef = useRef()\r\n    const PWDConfirmRef = useRef()\r\n    const requestOTP = () => {\r\n        setDisabled(true)\r\n        const requestMailAddress = config.production ? config.server + '/requestMail' : 'http://localhost:3000/requestMail'\r\n\r\n        const verifyOTPAddress = config.production ? config.server + '/verifyOTP' : 'http://localhost:3000/verifyOTP'\r\n\r\n        const loginAddress = config.production ? config.server + '/login' : 'http://localhost:3000/login'\r\n\r\n        let data = {}\r\n        data.to = email\r\n        if (!showOTPBox && !showPWDBox) {\r\n            axios.post(requestMailAddress, data, { withCredentials: true }).then(result => {\r\n                setDisabled(false)\r\n                if(result.data.registered) {\r\n                    setShowPWDBox(true)\r\n                    props.setRegistered(true)\r\n                }\r\n                else if (result.data.OTPsent) {\r\n                    setShowOTPBox(true)\r\n                } else {\r\n                    alert(\"message not sent try again\")\r\n                    emailInputRef.current.focus()\r\n                }\r\n            })\r\n        } else if(showOTPBox && !showPWDBox){\r\n            data.email = email\r\n            data.otp = otp\r\n            axios.post(verifyOTPAddress, data, { withCredentials: true }).then(result => {\r\n                setDisabled(false)\r\n                if (result.data.verified) {\r\n                    setShowPWDBox(true)\r\n                } else {\r\n                    alert(result.data.msg)\r\n                    otpInputRef.current.focus()\r\n                }\r\n            })\r\n        } else {\r\n            if(props.registered) {\r\n                data.email = email\r\n                data.PWD = PWD\r\n                axios.post(loginAddress, data, { withCredentials: true})\r\n                    .then(result => {\r\n                        if(result.data.logedIn)\r\n                        {\r\n                            props.setAccessJWTTokken(result.data.signedJWT)\r\n                            props.setEmail(email)\r\n                            props.setPWD('userPassword')\r\n                        } else {\r\n                            alert(\"Either password or email is wrong\")\r\n                            setDisabled(false)\r\n                            PWDRef.current.focus()\r\n                        }\r\n                    }).catch(err => {\r\n                        console.log(err)\r\n                        alert(\"something went wrong\")\r\n                        setDisabled(false)\r\n                        PWDRef.current.focus()\r\n                    })\r\n            }\r\n            else if(PWD === PWDConfirm) {\r\n                props.setEmail(email)\r\n                props.setPWD(PWD)\r\n            } else {\r\n                setDisabled(false)\r\n                alert(\"password doesnot match\")\r\n                PWDConfirmRef.current.focus()\r\n            }\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n       emailInputRef.current.focus()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if(showOTPBox)\r\n            otpInputRef.current.focus()\r\n     }, [showOTPBox])\r\n\r\n     useEffect(() => {\r\n        if(showPWDBox)\r\n            PWDRef.current.focus()\r\n     }, [showPWDBox])\r\n     \r\n    return (\r\n        <div className=\"EnterEmail\">\r\n            <h2>Enter Your E-mail</h2>\r\n            <p>WhatsApp will send an E-mail to verify your email. <span>What's my email?</span></p>\r\n            <input ref={emailInputRef} type=\"email\" placeholder=\"email\" onChange={e => setEmail(e.target.value)} disabled={showOTPBox || disabled} />\r\n            {showOTPBox ? <input ref={otpInputRef} type=\"number\" placeholder=\"enter OTP\" onChange={e => setOtp(e.target.value)}  disabled={disabled || showPWDBox}/> : null}\r\n\r\n            {\r\n                showPWDBox ? \r\n                <div className={\"PWDContainer\"}>\r\n                    <br />\r\n                    <p>Enter password</p>\r\n                     <input ref={PWDRef} type=\"password\" min=\"6\" placeholder=\"password\" onChange={e => setPWD(e.target.value)}  disabled={disabled}/>\r\n                     {props.registered ? null : <input ref={PWDConfirmRef} type=\"password\" placeholder=\"confirm password\" onChange={e => setPWDConfirm(e.target.value)}  disabled={disabled}/>}\r\n                </div> : null\r\n            }\r\n            <button onClick={() => requestOTP()} disabled={disabled}>Next</button>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useEffect, useState, useRef} from 'react'\r\nimport axios from 'axios'\r\nimport './EnterNameAndDp.css'\r\nimport './EnterEmail.css'\r\nimport config from './config'\r\n\r\nexport default function EnterNameAndDp(props) {\r\n    const [name, setName] = useState(undefined)\r\n    const [disabled, setDisabled] = useState(false)\r\n    const [registered, setRegistered] = useState(false)\r\n    \r\n    const registrationAddress = config.production ? config.server + '/register' : 'http://localhost:3000/register'\r\n\r\n    const saveUserMetaDataAddress = config.production ? config.server + '/saveUserMetaData' : 'http://localhost:3000/saveUserMetaData'\r\n    const enterNameRef = useRef()\r\n    let data = {}\r\n\r\n    const saveUserMetaDataFunc = ()=> {\r\n        axios.post(saveUserMetaDataAddress, {}, { withCredentials: true })\r\n        .then(result => {\r\n            setDisabled(false)\r\n            if(result.data.saved) {\r\n                props.setPWD('userPassword')\r\n                props.setRegistered(true)\r\n            } else {\r\n                alert(result.data.msg + \"try one more time\")\r\n            }\r\n        }).catch(err => {\r\n            setDisabled(false)\r\n            console.log(err)\r\n            alert(\"error occured try again\")\r\n        })\r\n    }\r\n    const setUserInDB = () => {\r\n        setDisabled(true)\r\n        data.name = name\r\n        data.email = props.email\r\n        data.PWD = props.PWD\r\n        axios.post(registrationAddress, data, { withCredentials: true })\r\n        .then(result => {\r\n            if(result.data.registered) {\r\n                console.log('registered')\r\n                props.setAccessJWTTokken(result.data.signedJWT)\r\n                axios.defaults.headers.common['Authorization'] = \"bearer \" + result.data.signedJWT\r\n                setRegistered(result.data.registered)\r\n                saveUserMetaDataFunc()\r\n            } else {\r\n                setDisabled(false)\r\n                alert(result.data.msg)\r\n                enterNameRef.current.focus()\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n            setDisabled(false)\r\n            alert(\"something went wrong try again\")\r\n            enterNameRef.current.focus()\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(enterNameRef)\r\n            enterNameRef.current.focus()\r\n    }, [])\r\n    return (\r\n        <div className=\"EnterEmail EnterNameAndDp\">\r\n            <h2>Profile info</h2>\r\n            <p>Please provide your name and an optional profile photo</p>\r\n            <div className=\"imgContainer\">\r\n                <img className=\"defaultImg\" src={require('../assets/person.svg')} alt=\"profile pic\"/>\r\n            </div>\r\n            <input ref={enterNameRef} disabled={disabled} type=\"text\" name=\"name\" onChange={e => setName(e.target.value)}/>\r\n            <button onClick={() => registered ? saveUserMetaDataFunc() : setUserInDB()} disabled={disabled}>Next</button>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { createBrowserHistory } from 'history'\r\nimport axios from 'axios'\r\nimport './App.css';\r\nimport SocketConnections from './components/SocketConnections'\r\nimport Header from './components/header'\r\nimport Body from './components/Body';\r\nimport MenuContainer from './components/MenuContainer';\r\nimport Room from './components/Room';\r\nimport Block from './components/Block';\r\nimport DirectAccess from './components/DirectAccess';\r\nimport AvailableChats from './components/AvailableChats';\r\nimport WelcomePage from './components/WelcomePage';\r\nimport EnterEmail from './components/EnterEmail';\r\nimport EnterNameAndDp from './components/EnterNameAndDp';\r\nimport socket from './components/socket.io-clientConfig'\r\nimport config from './components/config'\r\n\r\nfunction App() {\r\n\r\n  const [bodyRef, setBodyRef] = useState(null)\r\n  const [scrollX, setScrollX] = useState(0)\r\n  const [marginLeft, setMarginLeft] = useState(10)\r\n  const [showMenu, setMenu] = useState(false)\r\n  const [menuClass, setMenuClass] = useState('menuCard')\r\n  const [chatsRefForBody, setchatsRefForBody] = useState()\r\n  const [marginTop, setMarginTop] = useState(0)\r\n  const [headerRef, setHeaderRef] = useState()\r\n  const [agreed, setAgreed] = useState(false)\r\n  const [registered, setRegistered] = useState(false)\r\n  const [accessJWTTokken, setAccessJWTTokken] = useState(undefined)\r\n  //to send open room chat data\r\n  const [selectedRoomRecipientData, setselectedRoomRecipientData] = useState({})\r\n  const [selectedRoom_id, setSelectedRoom_id] = useState(undefined)\r\n  const [userData, setUserData] = useState({})\r\n  // open available chats\r\n  const [openAvailableChats, setOpenAvailableChats] = useState(false)\r\n\r\n  const [email, setEmail] = useState(undefined)\r\n  const [PWD, setPWD] = useState(undefined)\r\n  const [contacts, setContacts] = useState([])\r\n  const [roomsMessages, setRoomsMessages] = useState([])\r\n  const [newMSGCount, setNewMSGCount] = useState({})\r\n\r\n  const openAvailableChatsRef = useRef(openAvailableChats)\r\n  const selectedRoomRecipientDataRef = useRef(selectedRoomRecipientData)\r\n  let history = createBrowserHistory()\r\n  const bodyDRef = useRef(bodyRef)\r\n  const roomsMessagesRef = useRef()\r\n  const contactsRef = useRef()\r\n  const isURLSet = useRef(false)\r\n  const newMSGCountRef = useRef(newMSGCount)\r\n  const scrollTo = (i) => {\r\n    bodyDRef.current.style.scrollSnapType = \"none\"\r\n    let scrollAnime;\r\n\r\n    if (scrollAnime)\r\n      clearInterval(scrollAnime)\r\n\r\n    let start = bodyDRef.current.scrollLeft\r\n    const end = i * bodyDRef.current.clientWidth\r\n    const distance = end - start\r\n    const pix = distance / 5\r\n    let check = 0;\r\n\r\n    if (bodyDRef.current) {\r\n      scrollAnime = setInterval(() => {\r\n        start += pix\r\n        setScrollX(start)\r\n        check += pix\r\n        if (Math.abs(check) >= Math.abs(distance)) {\r\n          clearInterval(scrollAnime)\r\n          bodyDRef.current.style.scrollSnapType = \"x mandatory\"\r\n          if (bodyDRef.current.scrollLeft == 0) {\r\n          }\r\n        }\r\n      }, 1);\r\n\r\n    }\r\n\r\n  }\r\n  useEffect(() => {\r\n\r\n    if (bodyDRef.current) {\r\n\r\n      const scrollLeft = Math.round(bodyDRef.current.scrollLeft)\r\n      const clientWidth = Math.round(document.documentElement.clientWidth)\r\n      const pathname = window.location.pathname\r\n      const isRootPath = pathname.match('whatsapp-look-alike/chats')\r\n\r\n      if (scrollLeft == clientWidth && !pathname.match('status')) {\r\n\r\n        console.log('status')\r\n        if (isRootPath) {\r\n          history.push(\"/whatsapp-look-alike/status\")\r\n        } else {\r\n          history.replace('/whatsapp-look-alike/status')\r\n        }\r\n\r\n      }\r\n      else if (scrollLeft == clientWidth * 2 && !pathname.match('calls')) {\r\n\r\n        console.log('calls')\r\n        if (isRootPath) {\r\n          history.push(\"/whatsapp-look-alike/calls\")\r\n        } else {\r\n          history.replace('/whatsapp-look-alike/calls')\r\n        }\r\n      }\r\n      else if (scrollLeft == 0 && !isRootPath) {\r\n        console.log(\"chats\")\r\n        history.goBack()\r\n      }\r\n    }\r\n  }, [marginLeft])\r\n\r\n  useEffect(() => {\r\n    if (bodyRef)\r\n      bodyRef.scrollTo(scrollX, 0)\r\n  }, [scrollX, bodyRef])\r\n\r\n  useEffect(() => {\r\n    bodyDRef.current = bodyRef\r\n    if (bodyRef) {\r\n      bodyRef.addEventListener('scroll', e => {\r\n        setMarginLeft(10 + (bodyRef.scrollLeft / bodyRef.scrollWidth) * 90)\r\n      })\r\n    }\r\n    // on component unmount so it doesnt update unnecessarily\r\n    return () => {\r\n      if (bodyRef)\r\n        bodyRef.removeEventListener('scroll')\r\n    }\r\n  }, [bodyRef])\r\n\r\n  useEffect(() => {\r\n    if (showMenu)\r\n      setMenuClass(\"menuCardFull\")\r\n    else\r\n      setMenuClass(\" \")\r\n  }, [showMenu])\r\n\r\n  useEffect(() => {\r\n    if (chatsRefForBody && headerRef) {\r\n      //called only once\r\n      let lastScrolledTopValue\r\n      let scrolled = 0\r\n      let scrollTimer\r\n      chatsRefForBody.addEventListener('scroll', e => {\r\n        if (scrollTimer)\r\n          clearTimeout(scrollTimer)\r\n        headerRef.style.transition = \"0ms\"\r\n        if (!lastScrolledTopValue)\r\n          lastScrolledTopValue = chatsRefForBody.scrollTop\r\n\r\n        scrolled += lastScrolledTopValue - chatsRefForBody.scrollTop\r\n        if (scrolled < -60)\r\n          scrolled = - 60\r\n        else if (scrolled > 0)\r\n          scrolled = 0\r\n        setMarginTop(scrolled)\r\n        scrollTimer = setTimeout(() => {\r\n          headerRef.style.transition = \"transform 300ms ease-in-out\"\r\n          if (scrolled < -30 && chatsRefForBody.scrollTop > 60)\r\n            scrolled = -60\r\n          else\r\n            scrolled = 0\r\n          setMarginTop(scrolled)\r\n        }, 300);\r\n        lastScrolledTopValue = chatsRefForBody.scrollTop\r\n      })\r\n    }\r\n    return () => {\r\n      if (chatsRefForBody)\r\n        chatsRefForBody.removeEventListener('scroll')\r\n    }\r\n  }, [chatsRefForBody, headerRef])\r\n\r\n\r\n  useEffect(() => {\r\n    if (headerRef && bodyRef) {\r\n      if (selectedRoomRecipientData._id || openAvailableChats) {\r\n        headerRef.style.transform = `translate(-100px,${marginTop}px)`\r\n        bodyRef.style.transform = \"translate(-100px,0px)\"\r\n      }\r\n      else {\r\n        headerRef.style.transform = `translate(0px,${marginTop}px)`\r\n        bodyRef.style.transform = \"translate(0px,0px)\"\r\n      }\r\n    }\r\n  }, [selectedRoomRecipientData, openAvailableChats])\r\n\r\n  const checkURLAndSetAppState = ()=> {\r\n    isURLSet.current = true\r\n    let isReloaded\r\n    if (window.performance) {\r\n      console.info(\"window.performance works fine on this browser\");\r\n      isReloaded =  (performance.navigation.type == 1) ? true : false\r\n      console.log(\"reloaded \", isReloaded)\r\n    }\r\n\r\n    const pathname = window.location.pathname\r\n    if(pathname.match(/whatsapp-look-alike\\/*$/))\r\n      history.replace('/whatsapp-look-alike/chats')\r\n    else if(pathname.match(/whatsapp-look-alike\\/status\\/*$/)) {\r\n      scrollTo(1)\r\n      if(!isReloaded) {\r\n        history.replace('/whatsapp-look-alike/chats')\r\n        history.push('/whatsapp-look-alike/status')\r\n      }\r\n    } else if(pathname.match(/whatsapp-look-alike\\/calls\\/*$/)) {\r\n      scrollTo(2)\r\n      if(!isReloaded) {\r\n        history.replace('/whatsapp-look-alike/chats')\r\n        history.push('/whatsapp-look-alike/calls')\r\n      }\r\n    } else if(pathname.match(/whatsapp-look-alike\\/select-contact-for-chatting\\/*$/)) {\r\n      setOpenAvailableChats(true)\r\n      if(!isReloaded) {\r\n        history.replace('/whatsapp-look-alike/chats')\r\n        history.push('/whatsapp-look-alike/select-contact-for-chatting')\r\n      }\r\n    } else if(!pathname.match(/whatsapp-look-alike\\/chats\\/*$/) || pathname.match(/whatsapp-look-alike\\/*/g).length > 1)\r\n    {\r\n      isReloaded ? history.goBack() : history.replace('/whatsapp-look-alike/chats')\r\n    }\r\n    console.log(\"if page is loading continuosly than write the folowing path after url 'whatsapp-look-alike/chats'\")\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(bodyDRef.current && !isURLSet.current)\r\n      checkURLAndSetAppState()\r\n  }, [bodyDRef.current])\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('popstate', () => {\r\n      console.log(window.location.pathname)\r\n      let a = !(openAvailableChatsRef.current || selectedRoomRecipientDataRef.current._id)\r\n      if (window.location.pathname.match('whatsapp-look-alike/chats') && a) {\r\n        scrollTo(0)\r\n      }\r\n      setselectedRoomRecipientData({})\r\n      setOpenAvailableChats(false)\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    openAvailableChatsRef.current = openAvailableChats\r\n    selectedRoomRecipientDataRef.current = selectedRoomRecipientData\r\n  }, [selectedRoomRecipientData, openAvailableChats])\r\n\r\n\r\n  // const connectSocket = () => {\r\n  //   socket.on('msgFromServer', data => {\r\n  //     console.log(data)\r\n  //     let newRoomsMessages = JSON.parse(JSON.stringify(roomsMessagesRef.current))\r\n  //     newRoomsMessages[data.roomId].push(data.msgData)\r\n  //     setRoomsMessages(newRoomsMessages)\r\n  //   })\r\n  // }\r\n\r\n  useEffect(() => {\r\n    roomsMessagesRef.current = roomsMessages\r\n  }, [roomsMessages])\r\n\r\n  useEffect(() => {\r\n    contactsRef.current = contacts\r\n  }, [contacts])\r\n\r\n  const authorize = () => {\r\n    console.log(\"called for refresh token\")\r\n    const authorizeAddress = config.production ? config.server + '/refreshToken' : 'http://localhost:3000/refreshToken'\r\n    axios.get(authorizeAddress, { withCredentials: true })\r\n      .then(result => {\r\n        console.log(\"called for refresh token\")\r\n        if (result.data.logedIn) {\r\n          console.log(\"logged in\")\r\n          setAccessJWTTokken(result.data.signedJWT)\r\n          setEmail(result.data.email)\r\n          setPWD(\"userPassword\")\r\n          setRegistered(true)\r\n          setAgreed(true)\r\n          // connectSocket()\r\n        } else {\r\n          alert(result.data.msg)\r\n        }\r\n      }).catch(err => [\r\n        console.log(err + \" login again\")\r\n      ])\r\n  }\r\n\r\n  useEffect(() => {\r\n    authorize()\r\n  }, [])\r\n\r\n  const reAuthorizationCheckAndConfig = (result) => {\r\n    if (result.data.logedIn === true) {\r\n      setAccessJWTTokken(result.data.signedJWT)\r\n      return true\r\n    } else if (result.data.logedIn === false) {\r\n      alert(result.data.msg)\r\n      setEmail(undefined)\r\n      setPWD(undefined)\r\n      setAccessJWTTokken(undefined)\r\n      setRegistered(false)\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log(roomsMessages)\r\n    setContacts(contacts.map(obj => {\r\n      obj['lastMessageData'] = roomsMessages[obj._id].list[roomsMessages[obj._id].list.length - 1]\r\n      obj.seen = roomsMessages[obj._id].seen\r\n      obj.received = roomsMessages[obj._id].received\r\n      obj.sent = roomsMessages[obj._id].sent\r\n      return obj\r\n    }))\r\n  }, [roomsMessages])\r\n\r\n  useEffect(() => {\r\n    // console.log(\"new message\", newMSGCount)\r\n    newMSGCountRef.current = newMSGCount\r\n    // console.log(\"new message\", newMSGCountRef.current) \r\n    setContacts(contacts.map(obj => {\r\n      if(selectedRoomRecipientData._id == obj.recipientId && obj.newMSGCount != 0) {\r\n        obj.newMSGCount = 0\r\n        const modifiedNewMsgCount = JSON.parse(JSON.stringify(newMSGCountRef.current))\r\n        modifiedNewMsgCount[obj._id] = 0\r\n        setNewMSGCount(modifiedNewMsgCount)\r\n      }\r\n      else \r\n        obj.newMSGCount = newMSGCountRef.current[obj._id] \r\n      return obj\r\n    }))\r\n  }, [newMSGCount])\r\n\r\n  useEffect(() => {\r\n    if(selectedRoom_id && Object.keys(newMSGCountRef.current).length) {\r\n      let modifiedNewMsgCount = JSON.parse(JSON.stringify(newMSGCountRef.current))\r\n      modifiedNewMsgCount[selectedRoom_id] = 0\r\n      console.log(\"new message\", modifiedNewMsgCount)\r\n      setNewMSGCount(modifiedNewMsgCount)\r\n    }\r\n  }, [selectedRoom_id])\r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n      {agreed ? <React.Fragment>\r\n        {(email && PWD) ?\r\n          <React.Fragment>\r\n            {registered && accessJWTTokken ? null : <EnterNameAndDp accessJWTTokken={accessJWTTokken} setAccessJWTTokken={accessJWTTokken => setAccessJWTTokken(accessJWTTokken)} setRegistered={registered => setRegistered(registered)} email={email} PWD={PWD} setPWD={pwd => setPWD(pwd)} />}\r\n          </React.Fragment>\r\n          : <EnterEmail accessJWTTokken={accessJWTTokken} setAccessJWTTokken={accessJWTTokken => setAccessJWTTokken(accessJWTTokken)} registered={registered} setRegistered={registered => setRegistered(registered)} setEmail={email => setEmail(email)} setPWD={PWD => setPWD(PWD)} />}\r\n      </React.Fragment>\r\n        : <WelcomePage setAgreed={agreed => setAgreed(agreed)} />}\r\n\r\n      {registered && accessJWTTokken ? <React.Fragment>\r\n\r\n        <SocketConnections roomsMessagesRef={roomsMessagesRef} setRoomsMessages={roomsMessages => setRoomsMessages(roomsMessages)} email={email} contactsRef={contactsRef} setContacts={contacts => setContacts(contacts)} _id={userData._id} newMSGCountRef={newMSGCountRef} setNewMSGCount={newMSGCount => setNewMSGCount(newMSGCount)}/>\r\n\r\n        <Header setHeaderRefInApp={ref => setHeaderRef(ref.current)} scrollTo={scrollTo} marginLeft={marginLeft} openMenu={val => setMenu(val)} y={marginTop} accessJWTTokken={accessJWTTokken} />\r\n\r\n        <Body shareRef={ref => setBodyRef(ref.current)} setchatsRefForBody={chatsRef => setchatsRefForBody(chatsRef.current)} scrolled={marginTop} setselectedRoomRecipientData={selectedRoomRecipientData => setselectedRoomRecipientData(selectedRoomRecipientData)} setSelectedRoom_id={selectedRoom_id => setSelectedRoom_id(selectedRoom_id)} contacts={contacts} userData={userData}/>\r\n\r\n        {\r\n          showMenu ? <MenuContainer openMenu={val => setMenu(val)} menuClass={menuClass} /> : null\r\n        }\r\n\r\n        <DirectAccess setOpenAvailableChats={bool => setOpenAvailableChats(bool)} />\r\n\r\n        <Room userData={userData} selectedRoomRecipientData={selectedRoomRecipientData} setselectedRoomRecipientData={selectedRoomRecipientData => setselectedRoomRecipientData(selectedRoomRecipientData)} selectedRoom_id={selectedRoom_id} setSelectedRoom_id={selectedRoom_id => setSelectedRoom_id(selectedRoom_id)} roomsMessagesRef={roomsMessagesRef} setRoomsMessages={roomsMessages => setRoomsMessages(roomsMessages)}/>\r\n\r\n        <AvailableChats openAvailableChats={openAvailableChats} setOpenAvailableChats={bool => setOpenAvailableChats(bool)} email={email} reAuthorizationCheckAndConfig={result => reAuthorizationCheckAndConfig(result)} setContacts={contacts => setContacts(contacts)} setRoomsMessages={rooms => setRoomsMessages(rooms)} setUserData={userData =>\r\n         setUserData(userData)} contacts={contacts} roomsMessages={roomsMessages} setNewMSGCount={newMSGCount => setNewMSGCount(newMSGCount)}/>\r\n\r\n        <Block blockStyle={(selectedRoomRecipientData._id || openAvailableChats) ? { zIndex: 2, opacity: 0.6 } : { zIndex: -2, opacity: 0 }} />\r\n\r\n      </React.Fragment> : null\r\n      }\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n","module.exports = __webpack_public_path__ + \"static/media/person.a8f61b5a.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"socketMSG\":\"SocketConnections_socketMSG__xpIQV\"};"],"sourceRoot":""}